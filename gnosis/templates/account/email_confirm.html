{% extends "gnosis_theme.html" %}
{% load account %}
{% load crispy_forms_tags %}

{% block content %}
<div class="card shadow-sm text-center mt-3">
    <div class="card-header">
        <h3>Confirm your account.</h3>
    </div>
    <div class="card-body mt-3">
        {% if messages %}
            {% for message in messages %}
                <p class="bg-info">{{ message }}</p>
            {% endfor %}
        {% endif %}

        {% if confirmation %}
        {% user_display confirmation.email_address.user as user_display %}
            
        <p>Please confirm that <a href="mailto:{{ confirmation.email_address.email }}">{{ confirmation.email_address.email }}</a> is an e-mail address for user <strong>{{ user_display }}</strong>.</p>
            
        <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
            {% csrf_token %}
            <button class="btn btn-primary" type="submit">Confirm</button>
        </form>    
        {% else %}    
        {% url 'account_email' as email_url %}
            
        <p>This e-mail confirmation link expired or is invalid. Please <a href="{{ email_url }}">issue a new e-mail confirmation request</a>.</p>           
        {% endif %}
    </div>
</div>
{% endblock %}