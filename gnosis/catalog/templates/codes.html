{% extends "gnosis_theme.html" %}

{% block content %}

{% load el_pagination_tags %}

<div class="text-center">
{% if message %}
<p class="bg-info">{{ message }}</p>
{% endif %}
<br>
<form action="" method="post">
    {% csrf_token %}
    {% for field in form  %}
        {{ field }}
    {% endfor %}
    <br>
    <input type="submit" class="btn btn-primary btn-lg" value="Search Codes" />
</form>
</div>
<br>

{% if codes %}
{% paginate codes %}

{% for code in codes %}
<div class="well well-sm">
    <p><a href="{{ code.get_absolute_url }}">{{ code.website }}</a></p>
    <p>{{ code.description|truncatewords:25 }}</p>
    <p class="text-right"><small>Keywords: {{ code.keywords }}</small></p>
</div>
{% endfor %}

{% get_pages %}
Showing entries
{{ pages.current_start_index }}-{{ pages.current_end_index }} of
{{ pages.total_count }}.
{# Just print pages to render the Digg-style pagination. #}
{{ pages.get_rendered }}
{% endif %}
{% endblock %}